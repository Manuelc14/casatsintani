---
import AnimateOnView from '../../components/islands/AnimateOnView'
import { MessageCircle, Check } from 'lucide-astro'

const {
  heading = 'La recuperación comienza con un paso.',
  sub = '¡Pedir ayuda!',
  description = 'Los trastornos emocionales, mentales y las adicciones son enfermedades que se pueden tratar.',
  ctaText = 'Habla con nosotros',
  ctaHref = '/contacto',
  ctaSecondaryText = 'Escríbenos por WhatsApp',
  ctaSecondaryHref = 'https://wa.me/521234567890?text=Hola%20Casa%20Ts%C3%ADntani%2C%20quisiera%20informaci%C3%B3n',
} = Astro.props

const heroVideo = '/assets/video-casa-tsintani.mp4'
const currentYear = new Date().getFullYear()
const years = currentYear - 2010
---

<section
  class="relative overflow-hidden  min-h-[80vh] rounded-3xl bg-gradient-to-b from-white to-zinc-50 dark:border-zinc-800 dark:from-zinc-950 dark:to-zinc-900"
  aria-label="Casa Tsíntani - Hero"
>
  <div
    class="bg-brand-600/20 dark:bg-brand-400/10 pointer-events-none absolute -top-24 -left-24 h-[32rem] w-[32rem] rounded-full blur-3xl"
  >
  </div>
  <div
    class="pointer-events-none absolute -right-32 -bottom-32 h-[28rem] w-[28rem] rounded-full bg-amber-900/20 blur-3xl dark:bg-amber-800/10"
  >
  </div>
  <div
    class="absolute inset-0 opacity-[0.08] [background:radial-gradient(80rem_40rem_at_10%_-10%,theme(colors.zinc.400),transparent_60%)] dark:opacity-[0.12]"
  >
  </div>

  <div
    class="relative mx-auto grid max-w-6xl items-center gap-10 px-6 py-16 md:grid-cols-2 md:py-20"
  >
    <AnimateOnView client:visible class="space-y-6">
      <span
        class="inline-flex items-center gap-2 rounded-full border border-zinc-200 bg-white/70 px-3 py-1 text-xs font-medium text-zinc-700 backdrop-blur-md dark:border-zinc-700 dark:bg-zinc-800/60 dark:text-zinc-200"
      >
        Transformando vidas
        <span aria-hidden="true" class="mx-1">•</span>
        {years}+ años de servicio
      </span>

      <h1
        class="font-display text-brand-900 dark:text-surface-50 text-4xl font-bold tracking-tight md:text-5xl"
      >
        {heading}
        <br />
        <span class="text-brand-600 dark:text-brand-400">
          {sub}
        </span>
      </h1>

      <p class="text-lg text-zinc-700 dark:text-zinc-300">
        {description}
      </p>

      <div class="flex flex-col gap-3 pt-2 sm:flex-row">
        <a href={ctaHref} class="btn-primary">{ctaText}</a>
        <a
          href={ctaSecondaryHref}
          class="inline-flex items-center gap-2 rounded-full bg-[#25D366] px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-[#1EB656] focus-visible:ring-2 focus-visible:ring-[#25D366] focus-visible:ring-offset-2 focus-visible:outline-none"
        >
          <MessageCircle class="h-5 w-5 text-white" />
          {ctaSecondaryText}
        </a>
      </div>

      <ul
        class="mt-4 grid grid-cols-1 gap-3 text-sm text-zinc-700 sm:grid-cols-2 dark:text-zinc-300"
      >
        {
          [
            'Acompañamiento cercano y humano',
            'Equipo especializado en adicciones y salud mental',
            'Apoyo para tu familia',
            'Plan de seguimiento hasta por 12 meses',
          ].map((item) => (
            <li class="inline-flex items-center gap-2" role="listitem">
              <span class="bg-brand-100 dark:bg-brand-900/40 inline-grid h-5 w-5 place-content-center rounded-md">
                <Check class="text-brand-700 dark:text-brand-300 h-4 w-4" />
              </span>
              {item}
            </li>
          ))
        }
      </ul>

      <div class="mt-6 flex flex-wrap items-center gap-4 text-xs text-zinc-600 dark:text-zinc-400">
        <div class="inline-flex items-center gap-2">
          <span class="bg-brand-600 h-1.5 w-1.5 rounded-full"></span>
          Atención 24/7
        </div>
        <div class="inline-flex items-center gap-2">
          <span class="h-1.5 w-1.5 rounded-full bg-sky-500"></span>
          Pátzcuaro, Michoacán
        </div>
        <div class="inline-flex items-center gap-2">
          <span class="h-1.5 w-1.5 rounded-full bg-amber-500"></span>
          Modelo Minnesota y terapias de tercera y cuarta generación
        </div>
      </div>
    </AnimateOnView>

    <AnimateOnView client:visible class="relative pb-16 md:pb-20">
      <div class="relative">
        <div class="relative aspect-[4/3] overflow-hidden rounded-2xl shadow-2xl md:aspect-[5/4]">
          <video src={heroVideo} autoplay muted loop playsinline class="h-full w-full object-cover"
          ></video>
          <div
            class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-white/0 via-white/0 to-white/0 dark:from-zinc-950/0 dark:via-zinc-950/0 dark:to-zinc-950/10"
          >
          </div>
        </div>

        <div
          class="absolute top-full left-1/2 z-10 w-auto -translate-x-1/2 -translate-y-1/2 rounded-xl border border-zinc-200 bg-white/70 p-3 text-xs shadow-lg backdrop-blur-md md:w-64 md:-translate-y-1/4 dark:border-zinc-700 dark:bg-zinc-800/70"
        >
          <p class="font-medium text-zinc-900 dark:text-zinc-100">Acompañamiento integral</p>
          <p class="mt-1 text-zinc-600 dark:text-zinc-300">
            Mente, cuerpo, familia y propósito de vida.
          </p>
        </div>
      </div>
    </AnimateOnView>
  </div>

  <style>
    @media (prefers-reduced-motion: reduce) {
      .shadow-2xl {
        transition: none !important;
      }
    }
  </style>
</section>

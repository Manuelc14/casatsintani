---
import AnimateOnView from "../../components/islands/AnimateOnView";
import MicroButton from "../../components/islands/MicroButton";
import { MessageCircle } from "lucide-astro";

const {
  heading = "Tratamiento integral, humano y basado en evidencia",
  sub = "Modelo clínico sin castigos con equipo interdisciplinario y seguimiento post-egreso de 12 meses.",
  ctaText = "Habla con nosotros",
  ctaHref = "/contacto",
  ctaSecondaryText = "Escríbenos por WhatsApp",
  ctaSecondaryHref = "https://wa.me/521234567890?text=Hola%20Casa%20Ts%C3%ADntani%2C%20quisiera%20informaci%C3%B3n",
} = Astro.props;

const hero = "/assets/logo_oscuro.svg";
const currentYear = new Date().getFullYear();
const years = currentYear - 2010;
---

<section
  class="relative overflow-hidden rounded-3xl border border-zinc-200 dark:border-zinc-800 bg-gradient-to-b from-white to-zinc-50 dark:from-zinc-950 dark:to-zinc-900"
  aria-label="Casa Tsíntani - Hero"
>
  <div
    class="pointer-events-none absolute -top-24 -left-24 h-[32rem] w-[32rem] rounded-full bg-brand-600/20 blur-3xl dark:bg-brand-400/10"
  >
  </div>
  <div
    class="pointer-events-none absolute -bottom-32 -right-32 h-[28rem] w-[28rem] rounded-full bg-amber-900/20 blur-3xl dark:bg-amber-800/10"
  >
  </div>
  <div
    class="absolute inset-0 opacity-[0.08] [background:radial-gradient(80rem_40rem_at_10%_-10%,theme(colors.zinc.400),transparent_60%)] dark:opacity-[0.12]"
  >
  </div>

  <div
    class="relative max-w-6xl mx-auto px-6 py-16 md:py-20 grid md:grid-cols-2 gap-10 items-center"
  >
    <AnimateOnView client:visible class="space-y-6">
      <span
        class="inline-flex items-center gap-2 rounded-full border border-zinc-200 bg-white/70 px-3 py-1 text-xs font-medium text-zinc-700 backdrop-blur-md dark:border-zinc-700 dark:bg-zinc-800/60 dark:text-zinc-200"
      >
        Transformando vidas
        <span aria-hidden="true" class="mx-1">•</span>
        {years}+ años de servicio
      </span>

      <h1
        class="text-4xl md:text-5xl font-bold tracking-tight font-display text-brand-900 dark:text-surface-50"
      >
        {heading}
      </h1>

      <p class="text-lg text-zinc-700 dark:text-zinc-300">{sub}</p>

      <div class="flex flex-col sm:flex-row gap-3 pt-2">
        <a href={ctaHref} class="btn-primary">{ctaText}</a>
        <a
          href={ctaSecondaryHref}
          class="btn-secondary inline-flex items-center gap-2"
        >
          <MessageCircle class="h-5 w-5 text-white" />
          {ctaSecondaryText}
        </a>
      </div>

      <ul
        class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-zinc-700 dark:text-zinc-300"
      >
        {
          [
            "Enfoque sin castigos",
            "Equipo interdisciplinario",
            "Acompañamiento familiar",
            "Seguimiento 12 meses",
          ].map((item) => (
            <li class="inline-flex items-center gap-2" role="listitem">
              <span class="inline-grid h-5 w-5 place-content-center rounded-md bg-brand-100 dark:bg-brand-900/40 text-brand-700 dark:text-brand-300">
                <img
                  src="/assets/logo_oscuro.svg"
                  alt=""
                  width="20"
                  height="20"
                  class="h-3.5 w-3.5"
                />
              </span>
              {item}
            </li>
          ))
        }
      </ul>

      <div
        class="mt-6 flex flex-wrap items-center gap-4 text-xs text-zinc-600 dark:text-zinc-400"
      >
        <div class="inline-flex items-center gap-2">
          <span class="h-1.5 w-1.5 rounded-full bg-brand-600"></span>
          Atención 24/7
        </div>
        <div class="inline-flex items-center gap-2">
          <span class="h-1.5 w-1.5 rounded-full bg-sky-500"></span>
          Pátzcuaro, Michoacán
        </div>
        <div class="inline-flex items-center gap-2">
          <span class="h-1.5 w-1.5 rounded-full bg-amber-500"></span>
          Modelo Minnesota + terapias de 3ª/4ª generación
        </div>
      </div>
    </AnimateOnView>

    <AnimateOnView client:visible class="relative pb-16 md:pb-20">
      <div class="relative">
        <div
          class="relative aspect-[4/3] md:aspect-[5/4] rounded-2xl overflow-hidden shadow-2xl"
        >
          <img
            src={hero}
            alt="Instalaciones y entorno terapéutico de Casa Tsíntani"
            width="1024"
            height="768"
            loading="eager"
            decoding="async"
            fetchpriority="high"
            class="h-full w-full object-contain bottom-16"
          />
          <div
            class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-white/0 via-white/0 to-white/0 dark:from-zinc-950/0 dark:via-zinc-950/0 dark:to-zinc-950/10"
          >
          </div>
        </div>

        <div
          class="absolute left-3 right-3 md:left-4 md:right-auto top-full -translate-y-1/2 md:-translate-y-1/3 w-auto md:w-64 rounded-xl border border-zinc-200 bg-white/85 p-3 text-xs shadow-lg backdrop-blur-md dark:border-zinc-700 dark:bg-zinc-800/70 z-10"
        >
          <p class="font-medium text-zinc-900 dark:text-zinc-100">
            Modelo clínico integral
          </p>
          <p class="mt-1 text-zinc-600 dark:text-zinc-300">
            Mente, cuerpo, familia y sentido de vida.
          </p>
        </div>
      </div>
    </AnimateOnView>
  </div>

  <style>
    @media (prefers-reduced-motion: reduce) {
      .shadow-2xl {
        transition: none !important;
      }
    }
  </style>
</section>

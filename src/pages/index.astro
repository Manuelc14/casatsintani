---
import BaseLayout from "../layouts/BaseLayout.astro";
import AnimateOnView from "../components/islands/AnimateOnView";
import Hero from "../components/ui/Hero.astro";
import Testimonios from "../components/sections/Testimonios.astro";
import CTAFinal from "../components/sections/CTAFinal.astro";
import FAQ from "../components/islands/FAQ";
---

<BaseLayout
  title="Casa Tsíntani – Inicio"
  description="Rehabilitación integral de adicciones y trastornos duales en Pátzcuaro, Michoacán. Atención 24/7, modelo sin castigos y seguimiento por 12 meses."
>
  <!-- Hero -->
  <AnimateOnView client:visible>
    <Hero />
  </AnimateOnView>

  <!-- Pilares de valor -->
  <AnimateOnView client:visible>
    <section class="mt-12 grid gap-6 md:grid-cols-3">
      <div class="p-6 rounded-2xl shadow-soft bg-white border">
        <h2 class="text-lg font-semibold">Modelo integral y actualizado</h2>
        <p class="mt-2 text-sm text-zinc-600">
          Minnesota + terapias de 3ª y 4ª generación (ACT, DBT, mindfulness,
          logoterapia).
        </p>
      </div>
      <div class="p-6 rounded-2xl shadow-soft bg-white border">
        <h2 class="text-lg font-semibold">Equipo interdisciplinario real</h2>
        <p class="mt-2 text-sm text-zinc-600">
          Médico, psiquiatra, neurólogo, psicología, arte/ocupacional,
          consejeros.
        </p>
      </div>
      <div class="p-6 rounded-2xl shadow-soft bg-white border">
        <h2 class="text-lg font-semibold">Seguimiento post egreso</h2>
        <p class="mt-2 text-sm text-zinc-600">
          Acompañamiento 12 meses, AA, evaluación y psicoeducación familiar.
        </p>
      </div>
    </section>
  </AnimateOnView>

  <!-- Programas destacados -->
  <AnimateOnView client:visible>
    <section class="mt-16">
      <h2 class="text-2xl font-bold tracking-tight">Programas</h2>
      <div class="mt-6 grid gap-6 md:grid-cols-3">
        <article
          class="p-6 rounded-2xl bg-white border hover:shadow-soft transition"
        >
          <h3 class="font-semibold">Residencial por fases</h3>
          <p class="mt-2 text-sm text-zinc-600">
            Ingreso y desintoxicación, rehabilitación conductual y psicosocial,
            egreso.
          </p>
          <a
            href="/programas"
            class="mt-3 inline-block text-brand-700 text-sm hover:underline"
          >
            Ver más →
          </a>
        </article>
        <article
          class="p-6 rounded-2xl bg-white border hover:shadow-soft transition"
        >
          <h3 class="font-semibold">Ambulatorio / Consultas</h3>
          <p class="mt-2 text-sm text-zinc-600">
            Seguimiento clínico y familiar, reforzamiento y prevención de
            recaídas.
          </p>
          <a
            href="/programas"
            class="mt-3 inline-block text-brand-700 text-sm hover:underline"
          >
            Ver más →
          </a>
        </article>
        <article
          class="p-6 rounded-2xl bg-white border hover:shadow-soft transition"
        >
          <h3 class="font-semibold">Familias</h3>
          <p class="mt-2 text-sm text-zinc-600">
            Charlas, talleres, terapia familiar bajo solicitud, fases con
            participación activa.
          </p>
          <a
            href="/familia"
            class="mt-3 inline-block text-brand-700 text-sm hover:underline"
          >
            Ver más →
          </a>
        </article>
      </div>
    </section>
  </AnimateOnView>

  <!-- Banda de métricas / confianza -->
  <AnimateOnView client:visible>
    <section
      class="mt-16 rounded-3xl border bg-white p-8 grid gap-6 md:grid-cols-4 text-center"
    >
      <div>
        <p class="text-3xl font-extrabold">12m</p>
        <p class="text-sm text-zinc-600">Seguimiento post egreso</p>
      </div>
      <div>
        <p class="text-3xl font-extrabold">24/7</p>
        <p class="text-sm text-zinc-600">Atención y respuesta</p>
      </div>
      <div>
        <p class="text-3xl font-extrabold">Interdisciplinario</p>
        <p class="text-sm text-zinc-600">Modelo sin castigos</p>
      </div>
      <div>
        <p class="text-3xl font-extrabold">Pátzcuaro</p>
        <p class="text-sm text-zinc-600">Entorno terapéutico</p>
      </div>
    </section>
  </AnimateOnView>

  <!-- Testimonios (sección ya balanceada con fallback) -->
  <Testimonios />

  <!-- FAQ (isla, hidratar cuando sea visible) -->
  <AnimateOnView client:visible>
    <section class="mt-16">
      <h2 class="text-2xl font-bold tracking-tight">Preguntas frecuentes</h2>
      <FAQ client:visible />
      <!-- Si prefieres aún menos prisa: <FAQ client:idle /> -->
    </section>
  </AnimateOnView>

  <!-- CTA final (componente con micro-interacción) -->
  <CTAFinal />
</BaseLayout>
